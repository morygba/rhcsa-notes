nmtui
ip a

hostnamectl set-hostname exma1
systemctl restart systemd.hostnamed.service 
bash

vim /etc/yum.repos.d/karen.repo
[base]
name=arepo
baseurl=copy&paste
enable=1
gpgchech=0

[apps]
name=brepo
baseurl=copy&paste
enabled=1
gpgcheck=0

yum clean all; yum repolist

crontab -e
*/5 * * * * uptime >> /root/uptime.txt
crontab -l

useradd john
passwd john
useradd -u 5001 joe 
passwd joe
groupadd dba
gpasswd -a joe dba
id joe
useradd -s /sbin/nologin cathy
passwd cathy
groupadd finance
gpasswd -a cathy finance
ip cathy

PERMISSIONS
cat /etc/fstab
cp -rp /etc/fstab /var/tmp/fstab
cat /var/tmp/fstab

ll /var/tmp/fstab

ll /var/tmp/fstab

getfacl /var/tmp/fstab
setfact -m u:john:--- /var/tmp/fstab
getfacl /var/tmp/fstab

getfacl /var/tmp/fstab
setfact -m u:joe:rw- /var/tmp/fstab
getfacl /var/tmp/fstab

getfacl /var/tmp/fstab
setfact -m u:cathy:--- /var/tmp/fstab
getfacl /var/tmp/fstab

GROUP COLLABO
ll /finance 
mkdir /finance
ll -d /finance
chown -R :finance /finance 
ll -d /finance
chmod -R 2070 /finance 
ll -d /finance 

touch /finance/testfile

NTP CONFIG 
yum install chrony
systemctl --now enable chronyd
systemctl status chronyd
vim /etc/chrony.conf
yyp
server time.apple.com iburst 
systemctl restart chronyd
chronyc sources 
chronyc status 
chronyc tracking

NB:complete ntp config on server2

FIND 
mkdir /root/find
ll -d find
find / -user user1 -exec cp -rp {} /root/find \;
ll -a find 

GREP
grep -w "bin" /etc/passwd >> /root/grep.txt
cat grep.txt

TUNING.PROFILE (SERVER 2)
Q: Set the recommendated tuning profile for your system
yum install tuned 
systemctl --now enable tuned
tunedadm recommnend  --> the check the recommended profile
tuned-adm active    --> to check the active profile 
tuned-adm profile virtual-guest  -->change the profile to virtual-guest as its the recommmended profile. 
tuned-adm active  --> to check if the change is effective.

PARTITIONNING 
Q: Create a swap partition of 1G and make it available at next reboot
lsblk 
cfdisk /dev/nvme0n2
cfdisk /dev/nvme0n2
fdisk /dev/nvme0n2
p
enter
enter
+1G
enter 
t
2
82
p
w
lsblk 
mkswap -/dev/nvme0pn2p2
free -g
vim /etc/fstab
/dev/nme0n2p2 swap swap defaults 0 0 
swapon -a
free -g
Q: Createa volume group with the name vgexam 8MiB PE and create the lvm name lvexam with PE 120 PE. 
create a vfat file system and mount it in /exam. This mount must be permament 
lsblk
cfdisk /dev/nvme0n2   --> to check the available space size
fdisk /dev/nvme0n2
p
enter
enter
8e
p
enter
w
lsblk 
pvcreate /dev/nvme0n2p3
pvs
vgcreate -s 8 vgexam /dev/nvme0n2p3 
vgdisplay
lvcreate -l 120 lvexam vgexam 
lvdisplay /dev/mapper/vgexam-lvexam
mkfs.vfat /dev/mapper/vgexam-lvexam
mkdir /exam
vim /etc/fstab
/dev/mapper/vgexam-lvexam /exam vfat dfaults 0 0 
mount -a
df -h
Q: Resize lvm partition /finance to 3 H
lsblk
lvs
cfdisk /dev/nvme0n2
fdisk /dev/nvme0n2
p
n
e
4
enter
p
n
5
enter
+1G
enter
p
t
8e
p
w
lsblk
partprobe /dev/nvme0n2   -->check if size has changed 
yum install vdo kmod-kvdo  --> install the vdo, then restart the VM

On SERBER 1
Selinux
Q: Knowning that httpd runs on port 5214, make sure https is running and start at the server reboot
yum install httpd 
semanage port -l | grep 5214  -->to check if the port is in use
vim /etc/httpd/conf/httpd.conf
Listen 5214    --> comment out the remaining 
systemctl --now enable httpd
semanage port -a -t http_port_t -p tcp 5214 
systemctl --now enable httpd
systemctl status httpd
firewall-cmd --permanent --add-port=5214/tcp
firewall-cmd --reload
firewall-cmd --list-port
curl http://192.168.0.251:5214 
Q: httpd has 3 pages in the document root directory, maje sure the 3 pages are accessible 
cd /var/www/html
ll
ll -z
ll -Zd
man semanage fcontent   -->to copy the right spelling of the commands in Examples
semanage fcontent -a -t httpd_sys_content_t "/var/www/html(/.*)?"
restorecon -R -v /var/www/html
ll -Z
curl http://192.18.0251/page1.html   --> should see "page OK"
curl http://192.18.0251/page2.html
curl http://192.18.0251/page3.html
cd

BACK TO SERVER 2
Reboot -f      --> picking it right where we left it at
pvcreate /dev/nvme0n2p5
vgextend vgfinance /dev/nvme0n2p5
vgs
lvextend -l +100%FREE /dev/mapper/vgfinance-lvfinance -r 
df -h
Q: Use the unpartitionned disk to create a VDO device with a logical size of 40GB and mount it in 
/examvdo as vdo service 
lsblk 
lsmod | grep kvdo 
modprobe kvdo
lsmod | grep kvdo
systemctl --now enable vdo
systemctl status vdo
vdo create --name=VDO --device=/dev/ne=vme0n3 --vdoLogicalSize=40G 
mkfs.xfs /dev/mapper/VDO
mkdir /examvdo
find / -iname "vdo.mount.example"
cd /usr/share/doc/vdo/examples/systemd
cp VDO.mount.example /etc/systemd/system/examvdo.mount
vim /etc/systemd/system/examvdo.mount   -->change only What and Where 
[mount]                     
What = /dev/mapper/VDO
Where = /examvdo
Type = xfs 
Options = discard
systemctl --now enable examvdo.mount
systemctl --status examvdo.mount
df -h

UPDATE THE KERNEL 
Q: 
uname -r 
yum update kernel 
reboot
uname -r 


NFS
Q:
yum install autofs nfs-utils
systemctl --now enable autofs
systemctl status autofs 
vim /etc/auto.master
##copy paste the line #/misc   /etc/auto.misc  
## and modify 
/remote/user1   /etc/auto.home
## then,
vim /etc/auto.home
* -fstype=nfs,nfsvers=3,rw,soft,intr  192.168.1.251:/home/&
systemctl restart autofs
ls /remote/user1/*


ON SERVER 1
CONTAINER 
Q: 
nkdir -p /svr/web
ll -d /svr/web
yum install podman-docker
wget https://training.linuxtechnologies.us/test/web-content.tar.gz   /svr/web
cd /svr/web
tar xvfz web-content.tar.gz 











































 



































































